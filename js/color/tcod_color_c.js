/* BSD 3-Clause License
 *
 * Copyright Â© 2008-2021, Jice and the libtcod contributors.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its
 *    contributors may be used to endorse or promote products derived from
 *    this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
// #
// include "color.h"
import "./tcod_color_h.js";

// #
// include < math.h >

//     #include "libtcod_int.h"#
// include "utility.h"

/* grey levels */
export const TCOD_black = TCOD_BLACK;
export const TCOD_darkest_grey = TCOD_DARKEST_GREY;
export const TCOD_darker_grey = TCOD_DARKER_GREY;
export const TCOD_dark_grey = TCOD_DARK_GREY;
export const TCOD_grey = TCOD_GREY;
export const TCOD_light_grey = TCOD_LIGHT_GREY;
export const TCOD_lighter_grey = TCOD_LIGHTER_GREY;
export const TCOD_lightest_grey = TCOD_LIGHTEST_GREY;
export const TCOD_darkest_gray = TCOD_DARKEST_GREY;
export const TCOD_darker_gray = TCOD_DARKER_GREY;
export const TCOD_dark_gray = TCOD_DARK_GREY;
export const TCOD_gray = TCOD_GREY;
export const TCOD_light_gray = TCOD_LIGHT_GREY;
export const TCOD_lighter_gray = TCOD_LIGHTER_GREY;
export const TCOD_lightest_gray = TCOD_LIGHTEST_GREY;
export const TCOD_white = TCOD_WHITE;

/* sepia */
export const TCOD_darkest_sepia = TCOD_DARKEST_SEPIA;
export const TCOD_darker_sepia = TCOD_DARKER_SEPIA;
export const TCOD_dark_sepia = TCOD_DARK_SEPIA;
export const TCOD_sepia = TCOD_SEPIA;
export const TCOD_light_sepia = TCOD_LIGHT_SEPIA;
export const TCOD_lighter_sepia = TCOD_LIGHTER_SEPIA;
export const TCOD_lightest_sepia = TCOD_LIGHTEST_SEPIA;

/* standard colors */
export const TCOD_red = TCOD_RED;
export const TCOD_flame = TCOD_FLAME;
export const TCOD_orange = TCOD_ORANGE;
export const TCOD_amber = TCOD_AMBER;
export const TCOD_yellow = TCOD_YELLOW;
export const TCOD_lime = TCOD_LIME;
export const TCOD_chartreuse = TCOD_CHARTREUSE;
export const TCOD_green = TCOD_GREEN;
export const TCOD_sea = TCOD_SEA;
export const TCOD_turquoise = TCOD_TURQUOISE;
export const TCOD_cyan = TCOD_CYAN;
export const TCOD_sky = TCOD_SKY;
export const TCOD_azure = TCOD_AZURE;
export const TCOD_blue = TCOD_BLUE;
export const TCOD_han = TCOD_HAN;
export const TCOD_violet = TCOD_VIOLET;
export const TCOD_purple = TCOD_PURPLE;
export const TCOD_fuchsia = TCOD_FUCHSIA;
export const TCOD_magenta = TCOD_MAGENTA;
export const TCOD_pink = TCOD_PINK;
export const TCOD_crimson = TCOD_CRIMSON;

/* dark colors */
export const TCOD_dark_red = TCOD_DARK_RED;
export const TCOD_dark_flame = TCOD_DARK_FLAME;
export const TCOD_dark_orange = TCOD_DARK_ORANGE;
export const TCOD_dark_amber = TCOD_DARK_AMBER;
export const TCOD_dark_yellow = TCOD_DARK_YELLOW;
export const TCOD_dark_lime = TCOD_DARK_LIME;
export const TCOD_dark_chartreuse = TCOD_DARK_CHARTREUSE;
export const TCOD_dark_green = TCOD_DARK_GREEN;
export const TCOD_dark_sea = TCOD_DARK_SEA;
export const TCOD_dark_turquoise = TCOD_DARK_TURQUOISE;
export const TCOD_dark_cyan = TCOD_DARK_CYAN;
export const TCOD_dark_sky = TCOD_DARK_SKY;
export const TCOD_dark_azure = TCOD_DARK_AZURE;
export const TCOD_dark_blue = TCOD_DARK_BLUE;
export const TCOD_dark_han = TCOD_DARK_HAN;
export const TCOD_dark_violet = TCOD_DARK_VIOLET;
export const TCOD_dark_purple = TCOD_DARK_PURPLE;
export const TCOD_dark_fuchsia = TCOD_DARK_FUCHSIA;
export const TCOD_dark_magenta = TCOD_DARK_MAGENTA;
export const TCOD_dark_pink = TCOD_DARK_PINK;
export const TCOD_dark_crimson = TCOD_DARK_CRIMSON;

/* darker colors */
export const TCOD_darker_red = TCOD_DARKER_RED;
export const TCOD_darker_flame = TCOD_DARKER_FLAME;
export const TCOD_darker_orange = TCOD_DARKER_ORANGE;
export const TCOD_darker_amber = TCOD_DARKER_AMBER;
export const TCOD_darker_yellow = TCOD_DARKER_YELLOW;
export const TCOD_darker_lime = TCOD_DARKER_LIME;
export const TCOD_darker_chartreuse = TCOD_DARKER_CHARTREUSE;
export const TCOD_darker_green = TCOD_DARKER_GREEN;
export const TCOD_darker_sea = TCOD_DARKER_SEA;
export const TCOD_darker_turquoise = TCOD_DARKER_TURQUOISE;
export const TCOD_darker_cyan = TCOD_DARKER_CYAN;
export const TCOD_darker_sky = TCOD_DARKER_SKY;
export const TCOD_darker_azure = TCOD_DARKER_AZURE;
export const TCOD_darker_blue = TCOD_DARKER_BLUE;
export const TCOD_darker_han = TCOD_DARKER_HAN;
export const TCOD_darker_violet = TCOD_DARKER_VIOLET;
export const TCOD_darker_purple = TCOD_DARKER_PURPLE;
export const TCOD_darker_fuchsia = TCOD_DARKER_FUCHSIA;
export const TCOD_darker_magenta = TCOD_DARKER_MAGENTA;
export const TCOD_darker_pink = TCOD_DARKER_PINK;
export const TCOD_darker_crimson = TCOD_DARKER_CRIMSON;

/* darkest colors */
export const TCOD_darkest_red = TCOD_DARKEST_RED;
export const TCOD_darkest_flame = TCOD_DARKEST_FLAME;
export const TCOD_darkest_orange = TCOD_DARKEST_ORANGE;
export const TCOD_darkest_amber = TCOD_DARKEST_AMBER;
export const TCOD_darkest_yellow = TCOD_DARKEST_YELLOW;
export const TCOD_darkest_lime = TCOD_DARKEST_LIME;
export const TCOD_darkest_chartreuse = TCOD_DARKEST_CHARTREUSE;
export const TCOD_darkest_green = TCOD_DARKEST_GREEN;
export const TCOD_darkest_sea = TCOD_DARKEST_SEA;
export const TCOD_darkest_turquoise = TCOD_DARKEST_TURQUOISE;
export const TCOD_darkest_cyan = TCOD_DARKEST_CYAN;
export const TCOD_darkest_sky = TCOD_DARKEST_SKY;
export const TCOD_darkest_azure = TCOD_DARKEST_AZURE;
export const TCOD_darkest_blue = TCOD_DARKEST_BLUE;
export const TCOD_darkest_han = TCOD_DARKEST_HAN;
export const TCOD_darkest_violet = TCOD_DARKEST_VIOLET;
export const TCOD_darkest_purple = TCOD_DARKEST_PURPLE;
export const TCOD_darkest_fuchsia = TCOD_DARKEST_FUCHSIA;
export const TCOD_darkest_magenta = TCOD_DARKEST_MAGENTA;
export const TCOD_darkest_pink = TCOD_DARKEST_PINK;
export const TCOD_darkest_crimson = TCOD_DARKEST_CRIMSON;

/* light colors */
export const TCOD_light_red = TCOD_LIGHT_RED;
export const TCOD_light_flame = TCOD_LIGHT_FLAME;
export const TCOD_light_orange = TCOD_LIGHT_ORANGE;
export const TCOD_light_amber = TCOD_LIGHT_AMBER;
export const TCOD_light_yellow = TCOD_LIGHT_YELLOW;
export const TCOD_light_lime = TCOD_LIGHT_LIME;
export const TCOD_light_chartreuse = TCOD_LIGHT_CHARTREUSE;
export const TCOD_light_green = TCOD_LIGHT_GREEN;
export const TCOD_light_sea = TCOD_LIGHT_SEA;
export const TCOD_light_turquoise = TCOD_LIGHT_TURQUOISE;
export const TCOD_light_cyan = TCOD_LIGHT_CYAN;
export const TCOD_light_sky = TCOD_LIGHT_SKY;
export const TCOD_light_azure = TCOD_LIGHT_AZURE;
export const TCOD_light_blue = TCOD_LIGHT_BLUE;
export const TCOD_light_han = TCOD_LIGHT_HAN;
export const TCOD_light_violet = TCOD_LIGHT_VIOLET;
export const TCOD_light_purple = TCOD_LIGHT_PURPLE;
export const TCOD_light_fuchsia = TCOD_LIGHT_FUCHSIA;
export const TCOD_light_magenta = TCOD_LIGHT_MAGENTA;
export const TCOD_light_pink = TCOD_LIGHT_PINK;
export const TCOD_light_crimson = TCOD_LIGHT_CRIMSON;

/*lighter colors */
export const TCOD_lighter_red = TCOD_LIGHTER_RED;
export const TCOD_lighter_flame = TCOD_LIGHTER_FLAME;
export const TCOD_lighter_orange = TCOD_LIGHTER_ORANGE;
export const TCOD_lighter_amber = TCOD_LIGHTER_AMBER;
export const TCOD_lighter_yellow = TCOD_LIGHTER_YELLOW;
export const TCOD_lighter_lime = TCOD_LIGHTER_LIME;
export const TCOD_lighter_chartreuse = TCOD_LIGHTER_CHARTREUSE;
export const TCOD_lighter_green = TCOD_LIGHTER_GREEN;
export const TCOD_lighter_sea = TCOD_LIGHTER_SEA;
export const TCOD_lighter_turquoise = TCOD_LIGHTER_TURQUOISE;
export const TCOD_lighter_cyan = TCOD_LIGHTER_CYAN;
export const TCOD_lighter_sky = TCOD_LIGHTER_SKY;
export const TCOD_lighter_azure = TCOD_LIGHTER_AZURE;
export const TCOD_lighter_blue = TCOD_LIGHTER_BLUE;
export const TCOD_lighter_han = TCOD_LIGHTER_HAN;
export const TCOD_lighter_violet = TCOD_LIGHTER_VIOLET;
export const TCOD_lighter_purple = TCOD_LIGHTER_PURPLE;
export const TCOD_lighter_fuchsia = TCOD_LIGHTER_FUCHSIA;
export const TCOD_lighter_magenta = TCOD_LIGHTER_MAGENTA;
export const TCOD_lighter_pink = TCOD_LIGHTER_PINK;
export const TCOD_lighter_crimson = TCOD_LIGHTER_CRIMSON;

/* lightest colors */
export const TCOD_lightest_red = TCOD_LIGHTEST_RED;
export const TCOD_lightest_flame = TCOD_LIGHTEST_FLAME;
export const TCOD_lightest_orange = TCOD_LIGHTEST_ORANGE;
export const TCOD_lightest_amber = TCOD_LIGHTEST_AMBER;
export const TCOD_lightest_yellow = TCOD_LIGHTEST_YELLOW;
export const TCOD_lightest_lime = TCOD_LIGHTEST_LIME;
export const TCOD_lightest_chartreuse = TCOD_LIGHTEST_CHARTREUSE;
export const TCOD_lightest_green = TCOD_LIGHTEST_GREEN;
export const TCOD_lightest_sea = TCOD_LIGHTEST_SEA;
export const TCOD_lightest_turquoise = TCOD_LIGHTEST_TURQUOISE;
export const TCOD_lightest_cyan = TCOD_LIGHTEST_CYAN;
export const TCOD_lightest_sky = TCOD_LIGHTEST_SKY;
export const TCOD_lightest_azure = TCOD_LIGHTEST_AZURE;
export const TCOD_lightest_blue = TCOD_LIGHTEST_BLUE;
export const TCOD_lightest_han = TCOD_LIGHTEST_HAN;
export const TCOD_lightest_violet = TCOD_LIGHTEST_VIOLET;
export const TCOD_lightest_purple = TCOD_LIGHTEST_PURPLE;
export const TCOD_lightest_fuchsia = TCOD_LIGHTEST_FUCHSIA;
export const TCOD_lightest_magenta = TCOD_LIGHTEST_MAGENTA;
export const TCOD_lightest_pink = TCOD_LIGHTEST_PINK;
export const TCOD_lightest_crimson = TCOD_LIGHTEST_CRIMSON;

/* desaturated colors */
export const TCOD_desaturated_red = TCOD_DESATURATED_RED;
export const TCOD_desaturated_flame = TCOD_DESATURATED_FLAME;
export const TCOD_desaturated_orange = TCOD_DESATURATED_ORANGE;
export const TCOD_desaturated_amber = TCOD_DESATURATED_AMBER;
export const TCOD_desaturated_yellow = TCOD_DESATURATED_YELLOW;
export const TCOD_desaturated_lime = TCOD_DESATURATED_LIME;
export const TCOD_desaturated_chartreuse = TCOD_DESATURATED_CHARTREUSE;
export const TCOD_desaturated_green = TCOD_DESATURATED_GREEN;
export const TCOD_desaturated_sea = TCOD_DESATURATED_SEA;
export const TCOD_desaturated_turquoise = TCOD_DESATURATED_TURQUOISE;
export const TCOD_desaturated_cyan = TCOD_DESATURATED_CYAN;
export const TCOD_desaturated_sky = TCOD_DESATURATED_SKY;
export const TCOD_desaturated_azure = TCOD_DESATURATED_AZURE;
export const TCOD_desaturated_blue = TCOD_DESATURATED_BLUE;
export const TCOD_desaturated_han = TCOD_DESATURATED_HAN;
export const TCOD_desaturated_violet = TCOD_DESATURATED_VIOLET;
export const TCOD_desaturated_purple = TCOD_DESATURATED_PURPLE;
export const TCOD_desaturated_fuchsia = TCOD_DESATURATED_FUCHSIA;
export const TCOD_desaturated_magenta = TCOD_DESATURATED_MAGENTA;
export const TCOD_desaturated_pink = TCOD_DESATURATED_PINK;
export const TCOD_desaturated_crimson = TCOD_DESATURATED_CRIMSON;

/* metallic */
export const TCOD_brass = TCOD_BRASS;
export const TCOD_copper = TCOD_COPPER;
export const TCOD_gold = TCOD_GOLD;
export const TCOD_silver = TCOD_SILVER;

/* miscellaneous */
export const TCOD_celadon = TCOD_CELADON;
export const TCOD_peach = TCOD_PEACH;

/* color array */
export const TCOD_colors = [
    [
        TCOD_DESATURATED_RED, TCOD_LIGHTEST_RED, TCOD_LIGHTER_RED, TCOD_LIGHT_RED, TCOD_RED, TCOD_DARK_RED, TCOD_DARKER_RED, TCOD_DARKEST_RED
    ],
    [
        TCOD_DESATURATED_FLAME,
        TCOD_LIGHTEST_FLAME,
        TCOD_LIGHTER_FLAME,
        TCOD_LIGHT_FLAME,
        TCOD_FLAME,
        TCOD_DARK_FLAME,
        TCOD_DARKER_FLAME,
        TCOD_DARKEST_FLAME
    ],
    [
        TCOD_DESATURATED_ORANGE,
        TCOD_LIGHTEST_ORANGE,
        TCOD_LIGHTER_ORANGE,
        TCOD_LIGHT_ORANGE,
        TCOD_ORANGE,
        TCOD_DARK_ORANGE,
        TCOD_DARKER_ORANGE,
        TCOD_DARKEST_ORANGE
    ],
    [
        TCOD_DESATURATED_AMBER,
        TCOD_LIGHTEST_AMBER,
        TCOD_LIGHTER_AMBER,
        TCOD_LIGHT_AMBER,
        TCOD_AMBER,
        TCOD_DARK_AMBER,
        TCOD_DARKER_AMBER,
        TCOD_DARKEST_AMBER
    ],
    [
        TCOD_DESATURATED_YELLOW,
        TCOD_LIGHTEST_YELLOW,
        TCOD_LIGHTER_YELLOW,
        TCOD_LIGHT_YELLOW,
        TCOD_YELLOW,
        TCOD_DARK_YELLOW,
        TCOD_DARKER_YELLOW,
        TCOD_DARKEST_YELLOW
    ],
    [
        TCOD_DESATURATED_LIME,
        TCOD_LIGHTEST_LIME,
        TCOD_LIGHTER_LIME,
        TCOD_LIGHT_LIME,
        TCOD_LIME,
        TCOD_DARK_LIME,
        TCOD_DARKER_LIME,
        TCOD_DARKEST_LIME
    ],
    [
        TCOD_DESATURATED_CHARTREUSE,
        TCOD_LIGHTEST_CHARTREUSE,
        TCOD_LIGHTER_CHARTREUSE,
        TCOD_LIGHT_CHARTREUSE,
        TCOD_CHARTREUSE,
        TCOD_DARK_CHARTREUSE,
        TCOD_DARKER_CHARTREUSE,
        TCOD_DARKEST_CHARTREUSE
    ],
    [
        TCOD_DESATURATED_GREEN,
        TCOD_LIGHTEST_GREEN,
        TCOD_LIGHTER_GREEN,
        TCOD_LIGHT_GREEN,
        TCOD_GREEN,
        TCOD_DARK_GREEN,
        TCOD_DARKER_GREEN,
        TCOD_DARKEST_GREEN
    ],
    [
        TCOD_DESATURATED_SEA,
        TCOD_LIGHTEST_SEA,
        TCOD_LIGHTER_SEA,
        TCOD_LIGHT_SEA,
        TCOD_SEA,
        TCOD_DARK_SEA,
        TCOD_DARKER_SEA,
        TCOD_DARKEST_SEA
    ],
    [
        TCOD_DESATURATED_TURQUOISE,
        TCOD_LIGHTEST_TURQUOISE,
        TCOD_LIGHTER_TURQUOISE,
        TCOD_LIGHT_TURQUOISE,
        TCOD_TURQUOISE,
        TCOD_DARK_TURQUOISE,
        TCOD_DARKER_TURQUOISE,
        TCOD_DARKEST_TURQUOISE
    ],
    [
        TCOD_DESATURATED_CYAN,
        TCOD_LIGHTEST_CYAN,
        TCOD_LIGHTER_CYAN,
        TCOD_LIGHT_CYAN,
        TCOD_CYAN,
        TCOD_DARK_CYAN,
        TCOD_DARKER_CYAN,
        TCOD_DARKEST_CYAN
    ],
    [
        TCOD_DESATURATED_SKY,
        TCOD_LIGHTEST_SKY,
        TCOD_LIGHTER_SKY,
        TCOD_LIGHT_SKY,
        TCOD_SKY,
        TCOD_DARK_SKY,
        TCOD_DARKER_SKY,
        TCOD_DARKEST_SKY
    ],
    [
        TCOD_DESATURATED_AZURE,
        TCOD_LIGHTEST_AZURE,
        TCOD_LIGHTER_AZURE,
        TCOD_LIGHT_AZURE,
        TCOD_AZURE,
        TCOD_DARK_AZURE,
        TCOD_DARKER_AZURE,
        TCOD_DARKEST_AZURE
    ],
    [
        TCOD_DESATURATED_BLUE,
        TCOD_LIGHTEST_BLUE,
        TCOD_LIGHTER_BLUE,
        TCOD_LIGHT_BLUE,
        TCOD_BLUE,
        TCOD_DARK_BLUE,
        TCOD_DARKER_BLUE,
        TCOD_DARKEST_BLUE
    ],
    [
        TCOD_DESATURATED_HAN,
        TCOD_LIGHTEST_HAN,
        TCOD_LIGHTER_HAN,
        TCOD_LIGHT_HAN,
        TCOD_HAN,
        TCOD_DARK_HAN,
        TCOD_DARKER_HAN,
        TCOD_DARKEST_HAN
    ],
    [
        TCOD_DESATURATED_VIOLET,
        TCOD_LIGHTEST_VIOLET,
        TCOD_LIGHTER_VIOLET,
        TCOD_LIGHT_VIOLET,
        TCOD_VIOLET,
        TCOD_DARK_VIOLET,
        TCOD_DARKER_VIOLET,
        TCOD_DARKEST_VIOLET
    ],
    [
        TCOD_DESATURATED_PURPLE,
        TCOD_LIGHTEST_PURPLE,
        TCOD_LIGHTER_PURPLE,
        TCOD_LIGHT_PURPLE,
        TCOD_PURPLE,
        TCOD_DARK_PURPLE,
        TCOD_DARKER_PURPLE,
        TCOD_DARKEST_PURPLE
    ],
    [
        TCOD_DESATURATED_FUCHSIA,
        TCOD_LIGHTEST_FUCHSIA,
        TCOD_LIGHTER_FUCHSIA,
        TCOD_LIGHT_FUCHSIA,
        TCOD_FUCHSIA,
        TCOD_DARK_FUCHSIA,
        TCOD_DARKER_FUCHSIA,
        TCOD_DARKEST_FUCHSIA
    ],
    [
        TCOD_DESATURATED_MAGENTA,
        TCOD_LIGHTEST_MAGENTA,
        TCOD_LIGHTER_MAGENTA,
        TCOD_LIGHT_MAGENTA,
        TCOD_MAGENTA,
        TCOD_DARK_MAGENTA,
        TCOD_DARKER_MAGENTA,
        TCOD_DARKEST_MAGENTA
    ],
    [
        TCOD_DESATURATED_PINK,
        TCOD_LIGHTEST_PINK,
        TCOD_LIGHTER_PINK,
        TCOD_LIGHT_PINK,
        TCOD_PINK,
        TCOD_DARK_PINK,
        TCOD_DARKER_PINK,
        TCOD_DARKEST_PINK
    ],
    [
        TCOD_DESATURATED_CRIMSON,
        TCOD_LIGHTEST_CRIMSON,
        TCOD_LIGHTER_CRIMSON,
        TCOD_LIGHT_CRIMSON,
        TCOD_CRIMSON,
        TCOD_DARK_CRIMSON,
        TCOD_DARKER_CRIMSON,
        TCOD_DARKEST_CRIMSON
    ]
];
/**
 *  @brief Return a new TCOD_color_t from RGB values.
 *
 *  This function is redundant, you should use a braced initializer instead:
 *
 *      TCOD_color_t white = {255, 255, 255};
 */
export function TCOD_color_RGB(r, g, b) {
    let new_color = TCOD_color_t(r, g, b);
    return new_color;
}
/**
 *  @brief Return a new TCOD_color_t from HSV values.
 *
 *  @param {number} hue The colors hue (in degrees.)
 *  @param {number} saturation The colors saturation (from 0 to 1)
 *  @param {number} value The colors value (from 0 to 1)
 *  @return {TCOD_color_t} A new TCOD_color_t struct.
 *
 *  The saturation and value parameters are automatically clamped to 0 and 1.
 *
 *      TCOD_color_t light_blue = TCOD_color_HSV(240.0f, 0.75f, 1.0f);
 *
 *  Use TCOD_color_set_HSV to fill an existing struct with HSV values.
 */
export function TCOD_color_HSV(hue, saturation, value) {
    let new_color;
    TCOD_color_set_HSV(new_color, hue, saturation, value);
    return new_color;
}

/**
 *  @brief Return a true value if c1 and c2 are equal.
 *  @param {TCOD_color_t} c1 The first color.
 *  @param {TCOD_color_t} c2 The second color.
 *  @return {boolean} 
 */
export function TCOD_color_equals(c1, c2) { return (c1.r == c2.r && c1.g == c2.g && c1.b == c2.b); }

/**
 *  @brief Add two colors together and return the result.
 *
 *  @param {TCOD_color_t} c1 The first color.
 *  @param {TCOD_color_t} c2 The second color.
 *  @return {TCOD_color_t} A new TCOD_color_t struct with the result.
 */
export function TCOD_color_add(c1, c2) {
    let new_color = new TCOD_color_t(
        MIN(255, c1.r + c2.r),
        MIN(255, c1.g + c2.g),
        MIN(255, c1.b + c2.b)
    );
    return new_color;
}

/**
 *  @brief Subtract c2 from c1 and return the result.
 *
 *  @param {TCOD_color_t} c1 The first color.
 *  @param {TCOD_color_t} c2 The second color.
 *  @return {TCOD_color_t} A new TCOD_color_t struct with the result.
 */
export function TCOD_color_subtract(c1, c2) {
    let new_color = new TCOD_color_t(
        MAX(0, c1.r - c2.r),
        MAX(0, c1.g - c2.g),
        MAX(0, c1.b - c2.b)
    );
    return new_color;
}

/**
 *  @brief Multiply two colors together and return the result.
 *
 *  @param {TCOD_color_t} c1 The first color.
 *  @param {TCOD_color_t} c2 The second color.
 *  @return {TCOD_color_t} A new TCOD_color_t struct with the result.
 */
export function TCOD_color_multiply(c1, c2) {
    let new_color = new TCOD_color_t(
        ((c1.r) * c2.r / 255),
        ((c1.g) * c2.g / 255),
        ((c1.b) * c2.b / 255)
    );
    return new_color;
}

/**
 *  @brief Multiply a color with a scalar value and return the result.
 *
 *  @param {TCOD_color_t} c1 The color to multiply.
 *  @param {number} value The scalar float.
 *  @return {TCOD_color_t} A new TCOD_color_t struct with the result.
 */
export function TCOD_color_multiply_scalar(c1, value) {
    let new_color = new TCOD_color_t(
        CLAMP(0.0, 255.0, c1.r * value),
        CLAMP(0.0, 255.0, c1.g * value),
        CLAMP(0.0, 255.0, c1.b * value)
    );
    return new_color;
}

/**
 *  @brief Interpolate two colors together and return the result.
 *
 *  @param {TCOD_color_t} c1 The first color (where coef if 0)
 *  @param {TCOD_color_t} c2 The second color (where coef if 1)
 *  @param {number} coef The coefficient.
 *  @return {TCOD_color_t} A new TCOD_color_t struct with the result.
 */
export function TCOD_color_lerp(c1, c2, coef) {
    let new_color = new TCOD_color_t(
        (c1.r + (c2.r - c1.r) * coef),
        (c1.g + (c2.g - c1.g) * coef),
        (c1.b + (c2.b - c1.b) * coef)
    );
    return new_color;
}

/* Return floor modulo for double values. */
function fabsmod(x, n) {
    let m = fmod(x, n);
    return m < 0 ? m + n : m;
}

/**
 *  @brief Sets a colors values from HSV values.
 *
 *  @param {TCOD_color_t} color The color to be changed.
 *  @param {number} hue The colors hue (in degrees.)
 *  @param {number} saturation The colors saturation (from 0 to 1)
 *  @param {number} value The colors value (from 0 to 1)
 */
export function TCOD_color_set_HSV(color, hue, saturation, value) {
    let hue_section;
    let hue_fraction, p, q, t;

    saturation = CLAMP(0.0, 1.0, saturation);
    value = CLAMP(0.0, 1.0, value);
    if (saturation == 0.0) { /* achromatic (grey) */
        color.r = color.g = color.b = (value * 255.0 + 0.5);
        return;
    }

    hue = fabsmod(hue, 360.0);
    hue /= 60.0; /* sector 0 to 5 */
    hue_section = floor(hue);
    hue_fraction = hue - hue_section; /* fraction between sections */
    p = value * (1 - saturation);
    q = value * (1 - saturation * hue_fraction);
    t = value * (1 - saturation * (1 - hue_fraction));

    switch (hue_section) {
        default:
            case 0:
        /* red/yellow */
            color.r = (value * 255.0 + 0.5);
        color.g = (t * 255.0 + 0.5);
        color.b = (p * 255.0 + 0.5);
        break;
        case 1:
            /* yellow/green */
                color.r = (q * 255.0 + 0.5);
            color.g = (value * 255.0 + 0.5);
            color.b = (p * 255.0 + 0.5);
            break;
        case 2:
            /* green/cyan */
                color.r = (p * 255.0 + 0.5);
            color.g = (value * 255.0 + 0.5);
            color.b = (t * 255.0 + 0.5);
            break;
        case 3:
            /* cyan/blue */
                color.r = (p * 255.0 + 0.5);
            color.g = (q * 255.0 + 0.5);
            color.b = (value * 255.0 + 0.5);
            break;
        case 4:
            /* blue/purple */
                color.r = (t * 255.0 + 0.5);
            color.g = (p * 255.0 + 0.5);
            color.b = (value * 255.0 + 0.5);
            break;
        case 5:
            /* purple/red */
                color.r = (value * 255.0 + 0.5);
            color.g = (p * 255.0 + 0.5);
            color.b = (q * 255.0 + 0.5);
            break;
    }
}

/**
 *  @brief Get a set of HSV values from a color.
 *
 *  @param {TCOD_color_t} color The color
 *  @param {number} hue Pointer to a float, filled with the hue. (degrees)
 *  @param {number} saturation Pointer to a float, filled with the saturation. (0 to 1)
 *  @param {number} value Pointer to a float, filled with the value. (0 to 1)
 *
 *  The hue, saturation, and value parameters can not be NULL pointers,
 */
export function TCOD_color_get_HSV(color, hue, saturation, value) {
    hue = TCOD_color_get_hue(color);
    saturation = TCOD_color_get_saturation(color);
    value = TCOD_color_get_value(color);
    return {
        hue,
        saturation,
        value
    };
}

/**
 *  @brief Return a colors hue.
 *
 *  @param {TCOD_color_t} color A color struct.
 *  @return {number} The colors hue. (degrees)
 */
export function TCOD_color_get_hue(color) {
    let max = MAX(color.r, MAX(color.g, color.b));
    let min = MIN(color.r, MIN(color.g, color.b));
    let delta = max - min;
    let hue; /* degrees */
    if (delta == 0.0) {
        return 0.0;
    } /* achromatic, including black */
    if (color.r == max) {
        hue = (color.g - color.b) / delta;
    } else if (color.g == max) {
        hue = 2.0 + (color.b - color.r) / delta;
    } else {
        hue = 4.0 + (color.r - color.g) / delta;
    }
    hue *= 60.0;
    hue = fabsmod(hue, 360.0);
    return hue;
}

/**
 * 
 *  @brief Change a colors hue.
 *
 *  @param {TCOD_color_t} color Pointer to a color struct.
 *  @param {number} hue The hue in degrees.
 */
export function TCOD_color_set_hue(color, hue) {
    TCOD_color_set_HSV(color, hue, TCOD_color_get_saturation(color), TCOD_color_get_value(color));
}

/**
 *  @brief Return a colors saturation.
 *
 *  @param {TCOD_color_t} color A color struct.
 *  @return The colors saturation. (0 to 1)
 */
export function TCOD_color_get_saturation(color) {
    let max = (MAX(color.r, MAX(color.g, color.b))) / 255.0;
    let min = (MIN(color.r, MIN(color.g, color.b))) / 255.0;
    let delta = max - min;
    if (max == 0.0) {
        return 0.0;
    }
    return delta / max;
}

/**
 *  @brief Change a colors saturation.
 *
 *  @param {TCOD_color_t} color Pointer to a color struct.
 *  @param {number} saturation The desired saturation value.
 */
export function TCOD_color_set_saturation(color, saturation) {
    TCOD_color_set_HSV(color, TCOD_color_get_hue(color), saturation, TCOD_color_get_value(color));
}

/**
 *  @brief Get a colors value.
 *
 *  @param {TCOD_color_t} color A color struct.
 *  @return {number} The colors value. (0 to 1)
 */
export function TCOD_color_get_value(color) { return (MAX(color.r, MAX(color.g, color.b))) / 255.0; }

/**
 *  @brief Change a colors value.
 *
 *  @param {TCOD_color_t} color Pointer to a color struct.
 *  @param {number}  value The desired value.
 */
export function TCOD_color_set_value(color, float value) {
    TCOD_color_set_HSV(color, TCOD_color_get_hue(color), TCOD_color_get_saturation(color), value);
}

/**
 *  @brief Shift a colors hue by an amount.
 *
 *  @param {TCOD_color_t} color Pointer to a color struct.
 *  @param {number} hue_shift The distance to shift the hue, in degrees.
 */
export function TCOD_color_shift_hue(color, hue_shift) {
    if (hue_shift == 0.0) {
        return;
    }
    TCOD_color_set_HSV(
        color, TCOD_color_get_hue(color) + hue_shift, TCOD_color_get_saturation(color), TCOD_color_get_value(color));
}

/**
 *  @brief Scale a colors saturation and value.
 *
 *  @param {TCOD_color_t} color Pointer to a color struct.
 *  @param {number} saturation_coef Multiplier for this colors saturation.
 *  @param {number} value_coef Multiplier for this colors value.
 */
export function TCOD_color_scale_HSV(color, saturation_coef, value_coef) {
    TCOD_color_set_HSV(
        color,
        TCOD_color_get_hue(color),
        TCOD_color_get_saturation(color) * saturation_coef,
        TCOD_color_get_value(color) * value_coef);
}

/**
 *  @brief Generate an interpolated gradient of colors.
 *
 *  @param {Array<TCOD_color_t>} map Array to fill with the new gradient.
 *  @param {number} nb_key The array size of the key_color and key_index parameters.
 *  @param {Array<TCOD_color_t>} key_color An array of colors to use, in order.
 *  @param {Array<number>} key_index An array mapping key_color items to the map array.
 *
 *  @verbatim embed:rst:leading-asterisk
 *  .. code-block:: c
 *
 *    TCOD_color_t[256] gradient;
 *    TCOD_color_t[4] key_color = {TCOD_black, TCOD_dark_amber,
 *                                 TCOD_cyan, TCOD_white};
 *    int[4] key_index = {0, 64, 192, 255};
 *    TCOD_color_gen_map(&gradient, 4, &key_color, &key_index);
 *  @endverbatim
 */
export function TCOD_color_gen_map(map, nb_key, key_color, key_index) {
    let segment = 0;
    for (segment = 0; segment < nb_key - 1; ++segment) {
        let idx_start = key_index[segment];
        let idx_end = key_index[segment + 1];
        let idx;
        for (idx = idx_start; idx <= idx_end; ++idx) {
            map[idx] =
                TCOD_color_lerp(key_color[segment], key_color[segment + 1], (float)(idx - idx_start) / (idx_end - idx_start));
        }
    }
}

/**
 *  Perform alpha blending on a single channel.
 */
function alpha_blend_channel(dst_c, dst_a, src_c, src_a, out_a) {
    return (((src_c * src_a) + (dst_c * dst_a * (255 - src_a) / 255)) / out_a);
}

/**
 *  A modified lerp operation which can accept RGBA types.
 */
export function TCOD_color_alpha_blend(dst,
    src) {
    if (!dst || !src) {
        return;
    }
    let out_a = (src.a + dst.a * (255 - src.a) / 255);
    dst.r = alpha_blend_channel(dst.r, dst.a, src.r, src.a, out_a);
    dst.g = alpha_blend_channel(dst.g, dst.a, src.g, src.a, out_a);
    dst.b = alpha_blend_channel(dst.b, dst.a, src.b, src.a, out_a);
    dst.a = out_a;
}